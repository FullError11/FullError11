name: SSH Debug with tmate
on: 
  workflow_dispatch:  # 手动触发
    inputs:
      debug_enabled:
        description: 'Enable SSH debugging'
        required: true
        default: true
        type: boolean

jobs:
  debug:
    if: inputs.debug_enabled == true
    runs-on: ubuntu-latest
    timeout-minutes: 30  # 设置超时时间
    steps:
      - uses: actions/checkout@v4
      
      - name: Setup tmate session
        uses: mxschmitt/action-tmate@v3
        with:
          # 可选配置
          limit-access-to-actor: true  # 仅仓库所有者可访问
          # timeout: 3600  # 会话超时时间（秒）
